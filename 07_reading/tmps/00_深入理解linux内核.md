[TOC]



ed2k://|file|%5B%E5%AD%98%E5%82%A8%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90%EF%BC%9A%E5%9F%BA%E4%BA%8ELinux.2.6%E5%86%85%E6%A0%B8%E6%BA%90%E4%BB%A3%E7%A0%81%5D.%E6%95%96%E9%9D%92%E4%BA%91[%E7%94%B5%E5%AD%90%E4%B9%A6www.minxue.net].pdf|79281425|82be220ecbffd0ae5af7a0c3e7c24669|h=yy4wqcmelqdzsgnfeux6d7s2c5laxgvs|/



ed2k://|file|%E5%AD%98%E5%82%A8%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.%E5%9F%BA%E4%BA%8ELinux.2.6%E5%86%85%E6%A0%B8%E6%BA%90%E4%BB%A3%E7%A0%81.%E6%89%AB%E6%8F%8F%E7%89%88.pdf|79281425|82be220ecbffd0ae5af7a0c3e7c24669|h=yy4wqcmelqdzsgnfeux6d7s2c5laxgvs|/







用户标识符

用户组标识符

unix每个进程都有一个当前工作目录

- 硬连接和软连接

文件描述符与索引节点

 - 文件类型
 - 与文件相关的硬连接个数
 - 以字节为单位的文件长度
 - 设备标识符
 - 在文件系统中标识文件的索引节点号
 - 文件拥有者的UID
 - 文件的用户组ID
 - 几个时间戳
 - 访问权限与文件模式

文件操作的系统调用

- 处于用户态的进程不能直接与低层硬件交互，每个实际的文件操作必须在内核态下进行。因此 unix操作系统定义了几个与文件操作相关的系统调用

访问打开的文件

 - 普通文件顺序或随机访问
 - 设备文件和命名管道文件顺序访问，打开文件时，内核让文件指针指向文件的第一个字节(偏移量为0)
 - 英特尔 80x86微处理器有四种不同的执行状态，但是，所有标准的Unix内核都仅仅利用了内核态和用户态
 - 每种cpu模型都为从用户态到内核态的转换提供了特殊的指令，反之亦然。一个程序执行时，大部分时间都处在用户态下，只有需要内核所提供的服务时才切换到内核态。

进程地址空间

- 每个进程运行在它私有的地址空间，在用户态下运行的进程涉及到私有栈、数据区和代码区。进程访问内核的数据区和代码区，但使用另外的私有栈。

同步和临界区

 -  内核包含的很多的数据结构是无法用单一操作访问的。用单一的操作从链表中删除一个元素是不可能的，因为内核一次至少访问两个指针。临界区是这样一段代码，进入这段代码的进程必须完成，之后另一个进程才能进入。
 -  非抢占式内核
 -  禁止中断
 -  信号量
     -  一个整数变量 + 一个等待进程的链表 + 两个原子方法 down() 和 up() 
-  自旋锁
   -  多处理器系统上，信号量不是最佳方案。系统不允许在不同CPU上运行的内核控制路径同时访问某些内核数据结构，在这种情况下，如果修改数据结构所需的时间较短，那么，信号量可能是很低效的。为了检查信号量，内核必须把进程插入到信号量链表中，然后挂起它。因为这两种操作比较费时，完成这些操作时，其它的内核控制路径可能已经释放了信号量。
   -  自旋锁与信号量非常相似，但没有进程链表，当一个进程发现锁被另一个进程锁着时，它就不停的旋转，执行一个紧凑的循环指令直到锁打开
   -  自旋锁在单处理器环境下是无效的。
-  避免死锁
-  信号和进程间通信
   -  unix信号提供了把系统事件报告给进程的一种机制。每种事件都有自己的信号编号，通常用一个符号常量来表示，例如SIGTERM。有两种系统事件:
      -  异步通告 如当按下中断键ctrl - c, 也就是向前台进程发出中断信号 sigint。
      -  同步错误或异常
-  信号量与同步和临界区中描述的信号量是相似的，只是它们用在用户态下的进程中
-  共享内存为进程之间交换和共享数据提供了最快的方式。共享内存的实现依赖于内核对进程地址空间的实现。
-  进程管理
   -  fork和exit为系统调用，分别用来创建一个新进程和终止一个进程
   -  僵死进程: wait4()系统调用允许进程等待，直到其中的一个子进程结束，并返回已终止进程标识符(pid)
      -  很多shell允许用户在后台启动一个命令然后退出。正在运行这个shel命令的进程终止，但它的子进程继续运行。
-  进程组和登陆会话
   -  进程组表示一种作业job, 
-  内存管理
   -  虚拟内存
   -  高速缓存
-  设备驱动程序
-  内存寻址
-  内存地址
   -  逻辑地址
   -  线性地址
   -  物理地址
   -  ​